---
title: "Regist New Membership Customer"
openapi: "POST /endpointusagebasedmembership/"
description: "This endpoint is used to add credit to a customer’s or member’s account on particular membership tier."
---

<RequestExample>

```bash Request Example
curl --location 'api.mayar.id/credit/v1/credit/membership/customer/regist' \
--header 'Authorization: Bearer Paste-Your-API-Key-Here' \
--data-raw '{
    "productId": "40f26fbe-f4d8-4693-975f-e6d105d291e6",
    "membershipTierId": "9bbbfa01-1bf8-4e4d-8470-cdf7066b6ea2",
    "membershipMonthlyPeriod": 1, // mandatory must 1, 3, 6, 12
    "trialCredit": 100, //optional
    "customerInfo": {
        "name" : "memberTambahan",
        "email" : "tambahan@gg.com",
        "mobile" : "08777777799"
    }
}'
```

</RequestExample>

<ResponseExample>

```json Response Example 200
{
    "statusCode": 200,
    "message": "success",
    "membershipCustomer": {
        "id": "68ca1a1c-7ed8-47f3-a5c2-c5ff314dd750",
        "userId": "35776524-8ea9-46ac-b2dd-89efc496593f",
        "paymentLinkId": "40f26fbe-f4d8-4693-975f-e6d105d291e6",
        "createdAt": 1756088397669,
        "nextPayment": 1758766797571,
        "isLifetimePeriod": null,
        "paymentLink": {
            "id": "40f26fbe-f4d8-4693-975f-e6d105d291e6",
            "name": "produk baru 2",
            "description": "<p class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27; class=&#x27;preserveHtml&#x27;>xcxcxccx</p>\n"
        }
    }
}
```

</ResponseExample>

Endpoint:

<CodeGroup>

```Production Production
api.mayar.id/credit/v1/credit/membership/customer/regist
```


```Sandbox Sandbox
api.mayar.club/credit/v1/credit/membership/customer/regist
```

</CodeGroup>

## Authorization

<ResponseField name="Authorization" type="string" required>
  Example:

  `Authorization | Bearer Paste-Your-API-Key-Here`
</ResponseField>

## Request Body

<ParamField query="productId" path="productId" type="string" required>
  The unique identifier of the product associated with the credit.
</ParamField>

<ParamField query="membershipTierId" path="membershipTierId" type="string" required>
  The unique identifier of the membership tier to assign to the customer.
</ParamField>

<ParamField query="membershipMonthlyPeriod" path="membershipMonthlyPeriod" type="integer" required>
  The membership period in months. Must be one of `1`, `3`, `6`, or `12`.
</ParamField>

<ParamField query="trialCredit" path="trialCredit" type="integer">
  The trial credit amount to grant upon registration.
</ParamField>

<ParamField query="customerInfo" path="customerInfo" type="array of object" required>
  Object containing customer details.
</ParamField>

### customerInfo Structure (Array Of Object)

<ParamField query="name" path="name" type="string" required>
  Full name of the customer.
</ParamField>

<ParamField query="email" path="email" type="string" required>
  Email address of the customer.
</ParamField>

<ParamField query="mobile" path="mobile" type="string" required>
  Mobile phone number of the customer.
</ParamField>

## Response

Successful Response

### Main Structure (Root)

<ResponseField name="statusCode" type="integer" required>
  Status code form API.
</ResponseField>

<ResponseField name="messages" type="string" required>
  Status message that describes the status code.
</ResponseField>

<ResponseField name="membershipCustomer" type="array of object">
  Contains details of the newly registered or updated membership customer.
</ResponseField>

### membershipCustomer Structure (Array Of Object)

<ParamField path="id" type="string<uuid>" required>
  Unique identifier of the membership customer record.
</ParamField>

<ParamField query="userId" path="userId" type="string" required>
  Unique identifier of the user associated with this membership.
</ParamField>

<ParamField query="paymentLinkId" path="paymentLinkId" type="string" required>
  Unique identifier of the payment link associated with this membership.
</ParamField>

<ParamField query="createdAt" path="createdAt" type="integer" required>
  Timestamp (in milliseconds) indicating when the membership was created.
</ParamField>

<ParamField query="nextPayment" path="nextPayment" type="integer" required>
  Timestamp (in milliseconds) of the next scheduled payment.
</ParamField>

<ParamField query="isLifetimePeriod" path="isLifetimePeriod" type="boolean | null">
  ndicates whether the membership has a lifetime period; `null` if not set.
</ParamField>

<ParamField query="paymentLink" path="paymentLink" type="array of objext">
  Details of the payment link.
</ParamField>

### paymentLink Structure (Array Of Object)

<ParamField query="id" path="id" type="string" required>
  Unique identifier of the payment link.
</ParamField>

<ParamField query="name" path="name" type="string" required>
  Name of the payment link or product.
</ParamField>

<ParamField query="description" path="description" type="string" required>
  Description of the payment link or product in HTML format.
</ParamField>